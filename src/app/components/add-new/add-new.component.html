<div class="row">
  <div class="col-lg-12">
    <div class="page-header">
      <h1><i class="fa fa-bullhorn fa-fw"></i> Nouvelles <small>Ajouter une nouvelle</small></h1>
    </div>
  </div>
</div>

<form (ngSubmit)="addNew()" #postNewForm="ngForm">
  <div *ngFor="let alert of alerts">
    <alert [type]="alert.type" [dismissible]="true"><span [innerHtml]="alert.msg"></span></alert>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="btn-toolbar" role="toolbar">
        <div class="btn-group">
          <button type="submit" class="btn btn-warning" [disabled]="!postNewForm.form.valid"><i class="fa fa-save fa-fw"></i> Ajouter la nouvelle</button>
        </div>
        <div class="btn-group">
          <a class="btn btn-default" routerLink="/news"><i class="fa fa-times fa-fw"></i> Annuler</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
      <ul class="nav nav-tabs" role="tablist">
        <li class="active"><a role="tab" data-toggle="tab">Informations</a></li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane active" id="form-info">
          <div class="panel panel-default panel-tabs">
            <div class="panel-body">
              <dl>
                <dt><label>Date</label></dt>
                <dd>Le {{ currentDate | date:'fullDate' }}</dd>
                                      
                <dt><label>Auteur</label></dt>
                <dd>{{ (authService.user | async)?.firstName }} {{ (authService.user | async)?.name }} (<i class="fa fa-envelope-o fa-fw"></i> <a href="mailto:{{ (authService.user | async)?.email }}">{{ (authService.user | async)?.email }}</a>)</dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
      <ul class="nav nav-tabs" role="tablist">
        <li class="active"><a href="#form-content" role="tab" data-toggle="tab">Contenu</a></li>
      </ul>

      <div class="tab-content">
        <div class="tab-pane active" id="form-info">
          <div class="panel panel-default panel-tabs">
            <div class="panel-body">
              <dl>
                <dd>
                  <input type="text" class="form-control input-lg" placeholder="Titre de la nouvelle" style="font-size: 24px; font-weight: 500" [(ngModel)]="title" id="title" name="title" required>
                </dd>
                <dd>
                  <textarea class="form-control" placeholder="Description de la nouvelle" rows="15" [(ngModel)]="body" id="body" name="body"></textarea>
                </dd>

                <dt><label>Pi√®ce(s) jointe(s) :</label></dt>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>